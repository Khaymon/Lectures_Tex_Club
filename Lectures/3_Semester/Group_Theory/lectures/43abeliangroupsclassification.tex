\subsection{Конечнопорожденные абелевы группы}

\begin{proposition}
	Пусть $A \in M_{n \times k}(\Z)$. Тогда $\exists P \hm\in \GL_n(\Z): \exists Q \in \GL_k(\Z): \exists D \hm=\diag(u_1, u_2, \dotsc) \hm\in M_{n \times k}(\Z)$, $u_1, u_2, \dotsc \ge 0$, $u_1 \mid u_2 \mid \dotsb : A \hm= PDQ$.
\end{proposition}

\begin{proof}
	Уточним формулировку утверждения: мы будем получать $D$ из $A$, используя целочисленные элементарные преобразования строк (и столбцов), обратные преобразования к которым также целочисленны:
	\begin{enumerate}
		\item Прибавление к строке (столбцу) другой строки (другого столбца) с целочисленным коэффициентом
		\item Перестановка строк (столбцов) местами
		\item Умножение строки (столбца) на $\pm1$
	\end{enumerate}
	
	Если мы получим таким образом матрицу $D$ требуемого вида, то $D = P'AQ', P' \hm\in \GL_n(\Z),  Q' \in \GL_k(\Z)$, откуда $A = (P')^{-1}D(Q')^{-1}$. Проведем индукцию по $\min(n, k)$, без ограничения общности считая, что $\min(n, k) = k$. Базовыми случаями будем считать $k = 0$ и $A = 0$, оба этих случая тривиальны.
	
	Пусть теперь $k \ge 1$ и $A \ne 0$. Получим из $A$ указанными выше преобразованиями матрицу $B = (b_{ij}) \in M_{n \times k}(\Z)$ такую, что $b_{11} > 0$ и число $b_{11}$ минимально. В силу минимальности $b_{11}$, $\forall i \in \{1, \dotsc, n\}: b_{11} \mid b_{i1}$ и $\forall j \in \{1, \dotsc, k\}: b_{11} \mid b_{1j}$. Тогда, вычитая из остальных строк первую с соответствующим коэффициентом и делая то же самое со столбцами, мы приведем $B$ к виду $C = \diag(b_{11}, C')$, где $C' = (c_{ij}) \in M_{(n - 1) \times (k - 1)}(\Z)$. Заметим теперь, что, в силу минимальности $b_{11}$, $\forall i \in \{1, \dotsc, n - 1\}: \forall j \in \{1, \dots, k - 1\}: b_{11} \mid c_{ij}$. Значит, к $C'$ достаточно применить предположение индукции, поскольку преобразования строк и столбцов $C'$ сохраняют первую строку и первый столбец $C$.
\end{proof}

\begin{note}
	Представление матрицы $A$ в таком виде, как в утверждении выше, называется ее \textit{нормальной формой Смита}.
\end{note}

\begin{corollary}
	Группа $\GL_n(\Z)$ порождается матрицами целочисленных элементарных преобразований.
\end{corollary}

\begin{proof}
	Рассмотрим матрицу $A \in \GL_n(\Z)$ и ее нормальную форму Смита $A = PDQ$. Из доказательства утверждения выше следует, что $P, Q$ "--- это произведения элементарных целочисленных матриц, а $D$ "--- диагональная матрица с неотрицательными элементами такая, что $|\det{D}| = 1$. Значит, $D = E$ и $A = PQ$.
\end{proof}

\begin{note}
	Можно показать, что если $A = PDQ$ "--- нормальная форма Смита матрицы $A \in M_{n \times k}(\Z)$, то $\forall i \in \{1, \dotsc, \min(n, k)\}: u_1\dotsm u_i = \gd\{\det{M}: M \hm\in M_i(\Z) \text{ "--- подматрица } A\}$. Значит, матрица $D$ в нормальной форме Смита матрицы $A$ определена однозначно.
\end{note}

\begin{note}
	Конечно, из упражнения выше следует единственность матрицы $D$ в нормальной форме Смита матрицы $A$.
\end{note}

\begin{theorem}
	Пусть $G$ "--- свободная абелева группа ранга $n$ и $H \hm\le G$ "--- свободная абелева группа ранга $k \le n$. Тогда в $G$ и $H$ существуют базисы $(g_1, \dotsc, g_n)$ и $(h_1, \dotsc, h_k)$ такие, что $\forall i \in \{1, \dotsc, k\}: h_i = u_ig_i, u_i \in \Z, u_i \ge 0$, причем $u_1\mid \dotsb \mid u_k$.
\end{theorem}

\begin{proof}
	Пусть $(e_1, \dotsc, e_n)$ "--- базис в $G$, $(a_1, \dotsc, a_k)$ "--- базис в $H$. Тогда $(a_1, \dotsc, a_k) = (e_1, \dotsc, e_n)A$, где $A \in M_{n \times k}(\Z)$. Пусть $A \hm= PDQ$ "--- нормальная форма Смита матрицы $A$. Тогда базисы $(g_1, \dotsc, g_n) = (e_1, \dotsc, e_n)P$, $(h_1, \dotsc, h_k) = (a_1, \dotsc, a_k)Q^{-1}$ являются искомыми.
\end{proof}

\begin{note}
	Базисы в $G$ и $H$ из теоремы выше называются \textit{согласованными}.
\end{note}

\begin{corollary}
	Пусть $A$ "--- конечнопорожденная абелева группа. Тогда $A \cong Z^l \oplus \Z_{u_1} \oplus \dots \oplus \Z_{u_k}$, где $l, u_1, \dotsc, u_k \in \Z$, $l, u_1, \dotsc, u_k \ge 0$, $u_1 \mid \dotsb \mid u_k$.
\end{corollary}

\begin{proof}
	Пусть $A = \gl a_1, \dotsc, a_n \gr$. Тогда $A \cong G / H$, где $G$ "--- свободная абелева группа ранга $n$, $H \le G$ "--- свободная абелева группа ранга $k$. Выберем в $G$ и $H$ согласованные базисы $(g_1, \dotsc, g_n)$ и $(h_1, \dotsc, h_k)$. Заметим теперь, что $G \hm= \gl g_1\gr \oplus \dotsb \oplus \gl g_n\gr$, $H \hm= \gl h_1\gr \oplus \dotsb \oplus \gl h_k\gr$ и, более того, $\forall i \hm\in \{1, \dotsc, k\}: \gl h_i\gr \le \gl g_i\gr$. Тогда, считая, что $h_{k + 1} = \dotsb = h_n = 0$, получим:
	\[A \cong G/ H \cong \bigoplus\limits_{i = 1}^n\gl g_i\gr/\gl h_i\gr \cong \Z_{u_1} \oplus \dotsb \oplus \Z_{u_k} \oplus \Z^{n-k}\]
\end{proof}

\begin{note}
	Возможна ситуация, в которой несколько первых прямых слагаемых в разложении $A$ в доказательстве следствия выше "--- это нулевые подгруппы.
\end{note}

\begin{proposition}
	Пусть $n \in \N$, $n = \prod_{i = 1}^kp_i^{\alpha_i}$ "--- каноническое разложение $n$. Тогда $\Z_n \cong \bigoplus_{i = 1}^k\Z_{p_i^{\alpha_i}}$.
\end{proposition}

\begin{proof}
	Положим $G := \bigoplus_{i = 1}^k\Z_{p_i^{\alpha_i}}$ и рассмотрим элемент $g := (\overline{1}, \dotsc, \overline{1}) \in G$. Тогда $\ord{g} = \lf(p_1^{\alpha_1}, \dotsc, p_k^{\alpha_k}) = \prod_{i=1}^kp_i^{\alpha_i} = n$. Значит, $G = \gl g \gr$ и $G \cong \Z_n$.
\end{proof}

\begin{definition}
	Пусть $p$ "--- простое число, $\alpha \in \N$. Группа $\Z_{p^\alpha}$ называется \textit{примарной циклической группой}.
\end{definition}

\begin{corollary}
	Пусть $G$ "--- конечнопорожденная абелева группа. Тогда $G$ представима в виде прямой суммы $\Z^k$ и примарных циклических групп: 
	\[G \cong \Z^k \oplus \Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}}\]
\end{corollary}

\begin{note}
	Числа в наборе $p_1^{\alpha_1}, \dotsc, p_t^{\alpha_t}$ могут совпадать.
\end{note}

\begin{definition}
	Пусть $G$ "--- абелева группа. Ее \textit{периодической частью}, или \textit{подгруппой кручения}, называется $\Tor{G} := \{g \in G: \ord{g} \in \N\}$.
\end{definition}

\begin{proposition}
	Пусть $G$ "--- абелева группа. Тогда $\Tor{G} \le G$.
\end{proposition}

\begin{proof}
	Пусть $a, b \in \Tor{G}$, то есть $\exists n, k \in \N: na = 0$, $kb = 0$. Тогда $n(-a) \hm= -na = 0$ и $nk(a + b) = k(na) + n(kb) = 0$, поэтому $-a \in \Tor{G}$ и $a + b \in \Tor{G}$.
\end{proof}

\begin{note}
	Для неабелевой группы $G$ утверждение выше необязательно верно. Например, произведение двух вращений на угол $\pi$ в $\mathrm{SO}_3$ может быть вращением на угол, не являющийся рациональным кратным $\pi$.
\end{note}

\begin{proposition}
	Пусть $G$ "--- абелева группа. Тогда $G / \Tor{G}$ "--- это группа без кручения, то есть $\Tor(G / \Tor{G}) = \{\Tor{G}\}$.
\end{proposition}

\begin{proof}
	Если $a + \Tor{G} \in G / \Tor{G}$ и $n(a + \Tor{G}) = \Tor{G}$ для некоторого $n \in \N$, то $na \in \Tor{G}$, но тогда и $a \in \Tor{G}$.
\end{proof}

\begin{proposition}
	Если $G = \Z^k \oplus \Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}}$, то $\Tor{G} \hm= \Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}}$, и $G / \Tor{G} \cong \Z^k$.
\end{proposition}

\begin{proof}
	Положим $H: = \Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}}$. Если $g \in H$, то $g \in \Tor{G}$. Если же $g \not\in H$, то одна из первых $k$ компонент $g$ "--- ненулевая, поэтому порядок $g$ бесконечен. Тогда:
	\[G / \Tor{G}  = G / (\{(\underbrace{0, \dotsc, 0}_{k})\} \oplus H) \cong \Z^k / \{(\underbrace{0, \dotsc, 0}_{k})\} \oplus H / H \cong \Z^k\]
\end{proof}

\begin{corollary}
	Пусть $G$ "--- конечнопорожденная группа, представимая в следущем виде:
	\begin{equation}\tag{*}\label{eq}
		G \cong \Z^k \oplus \Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}}
	\end{equation}

	Тогда $G$ однозначно задает $k$ и $\Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}} \cong \Tor{G}$.
\end{corollary}

\begin{proof}
	Вторая часть утверждения уже доказана, а первая верна потому, что при $l \ne k$ у $\Z^l$ и $\Z^k$ различное число базисных элементов, поэтому $\Z^l \not\cong \Z^k$.
\end{proof}
\begin{proposition}
	Пусть $G$ "--- конечная группа, $q_1, \dotsc, q_s$ "--- все простые делители $|G|$, $Q_{q_1}, \dotsc, Q_{q_s} \le G$ "--- соответствующие силовские подгруппы в $G$. Тогда $\forall i \in \{1, \dotsc, s\}:$ $Q_{q_i}$ "--- это прямая сумма всех слагаемых в $\eqref*{eq}$, для которых $p_j = q_i$.
\end{proposition}

\begin{proof}
	Заметим, что произведение порядков слагаемых в $\eqref*{eq}$, для которых $p_j \hm= q_i$, "--- это наибольшая степень $q_i$, входящая в $|G|$, то есть $|Q_{q_i}|$. Но все силовские подгруппы в абелевой группе нормальны и потому единственны, что и означает требуемое.
\end{proof}

\begin{corollary}
	Конечная группа $G$ однозначно задает прямые суммы всех слагаемых с одним и тем же $p_j$.
\end{corollary}

\begin{proposition}
	Пусть $q$ "--- простое число, $H$ "--- $q$-группа, и $H = \Z_{q^{\alpha_1}} \oplus \dotsb \oplus \Z_{q^{\alpha_t}}$. Тогда $H$ однозначно задает набор $\alpha_1, \dotsc, \alpha_t$.
\end{proposition}

\begin{proof}
	Проведем индукцию по $|H|$. Если $|H| = q$, то тогда $H \cong \Z_q$. Пусть теперь $|H| = q^n, n > 1$. Тогда рассмотрим $qH \hm= \{qh : h \in H\} \cong \Z_{q^{\alpha_1 - 1}} \oplus \dotsb \oplus \Z_{q^{\alpha_t - 1}}$, поэтому $H / qH = \underbrace{\Z_q \oplus \dotsb \oplus \Z_q}_{t}$, $|H / qH| = q^t$. Значит, число $t$ задано однозначно. По предположению индукции для $qH$, те числа из набора $\alpha_1, \dotsc, \alpha_t$, которые больше единицы, заданы однозначно. Но и количество единиц задано однозначно в силу однозначности $t$.
\end{proof}

\begin{theorem}
	Пусть $G$ "--- конечнопорожденная абелева группа. Тогда $G$ представима в виде прямой суммы $\Z^k$ и примарных циклических групп: 
	\[G \cong \Z^k \oplus \Z_{p_1^{\alpha_1}} \oplus \dots \oplus \Z_{p_t^{\alpha_t}}\]
	
	Более того, в любом таком представлении $G$ одно и то же число $k$ и один и тот же набор $p_1^{\alpha_1}, \dotsc, p_t^{\alpha_t}$.
\end{theorem}

\begin{proof}
	Существование такого разложения уже было доказано. Единственность выполнена в силу утверждений выше.
\end{proof}

\begin{corollary}
	Пусть $G$ "--- конечнопорожденная абелева группа без кручения, то есть $\Tor{G} = \{0\}$. Тогда $G$ "--- свободная абелева группа.
\end{corollary}